function oc_toggle_state(e){var c=e.attr("src"),t=e.attr("data-alt-image");e.attr({src:t,"data-alt-image":c})}function ocSetVCState(){jQuery("#oc_pc_switch_spinner").removeClass("success").addClass("is_active");let c=jQuery("#pc_enable").prop("checked")?"1":"0";var e=jQuery("#oc_vcache_ttl").val()||"2592000",t=jQuery("#oc_vcache_ttl_unit").val()||"days",a=jQuery('input[name="octracking"]').val();jQuery.post(ajaxurl,{action:"oc_set_vc_state",vc_state:c,vc_ttl:e,vc_ttl_unit:t,oc_csrf:a},function(e){jQuery("#oc_pc_switch_spinner").removeClass("is_active").addClass("success"),"success"===e.status?(oc_toggle_pSection(),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"PERFORMANCE_CACHE",featureAction:"1"==c?"enable_vcache":"disable_vcache"})):(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:"true",feature:"PERFORMANCE_CACHE",featureAction:"1"==c?"enable_vcache":"disable_vcache"}),jQuery("#pc_enable").prop("checked",!1))})}function oc_toggle_pSection(){jQuery("#pc_enable").prop("checked")?(jQuery("#oc_vcache_ttl").val()||jQuery("#oc_vcache_ttl").val("2592000"),jQuery("#pc_enable_settings").show()):jQuery("#pc_enable_settings").hide()}function oc_cdn_save_state_change(){jQuery(".oc-cdn #dev_mode_enable").prop("checked")||jQuery(".oc-cdn #exclude_cdn_enable").prop("checked")?(jQuery(window).width()<576?jQuery(".oc-cdn .oc_sticky_footer"):jQuery(".oc-cdn .oc-desktop-view")).show():jQuery(".oc-cdn .oc-form-footer").hide()}function oc_toggle_devModeSection(){jQuery("#dev_mode_enable").prop("checked")?(jQuery("#dev_mode_duration").val()||jQuery("#dev_mode_duration").val("48"),jQuery("#dev_mode_enable_settings").show()):jQuery("#dev_mode_enable_settings").hide(),oc_cdn_save_state_change()}function oc_toggle_excludeCDNSection(){jQuery("#exclude_cdn_enable").prop("checked")?(jQuery("#exclude_cdn_data").val()||jQuery("#exclude_cdn_data").val(""),jQuery("#exclude_cdn_enable_settings").show()):jQuery("#exclude_cdn_enable_settings").hide(),oc_cdn_save_state_change()}function oc_validate_ttl(){var e=jQuery("#oc_vcache_ttl"),c=e.val();return/^[1-9]\d*$/.test(c)?(e.removeClass("oc_error"),jQuery("#pc_enable_settings .oc-ttl-error-msg").hide(),!0):(jQuery("#pc_enable_settings .oc-ttl-error-msg").show(),jQuery("#pc_enable_settings form button.oc_ttl_save").attr("disabled",!0),e.addClass("oc_error"),!1)}function oc_validate_cdn_data(){let e=jQuery("#dev_mode_enable"),c=jQuery("#dev_mode_duration"),t=jQuery("#exclude_cdn_enable"),a=jQuery("#exclude_cdn_data"),_=(c.removeClass("oc_error"),a.removeClass("oc_error"),!0);return e.is(":checked")&&!/^[1-9]\d*$/.test(c.val())&&(jQuery("#cdn_settings button.oc_cdn_data_save").attr("disabled",!0),c.addClass("oc_error"),jQuery("#dev_mode_enable_settings .oc-ttl-error-msg").show(),_=!1),t.is(":checked")&&""===a.val().trim()&&(jQuery("#cdn_settings button.oc_cdn_data_save").attr("disabled",!0),jQuery("#exclude_cdn_enable_settings .oc-ttl-error-msg").show(),a.addClass("oc_error"),_=!1),_}function oc_update_ttl(){jQuery(".oc_ttl_spinner").removeClass("success").addClass("is_active");var e=jQuery("#oc_vcache_ttl").val()||"2592000",c=jQuery("#oc_vcache_ttl_unit").val()||"days",t=jQuery('input[name="octracking"]').val();jQuery.post(ajaxurl,{action:"oc_set_vc_ttl",vc_ttl:e,vc_ttl_unit:c,oc_csrf:t},function(e){jQuery(".oc_ttl_spinner").removeClass("is_active"),"success"===e.status&&(jQuery("#pc_enable_settings form button.oc_ttl_save").attr("disabled",!0),jQuery(".oc_ttl_spinner").addClass("success")),jQuery("#oc_vcache_ttl").val().trim()||jQuery("#oc_vcache_ttl").val("2592000")})}function ocExcludeCDNState(){jQuery("#oc_exclude_cdn_switch_spinner").removeClass("success").addClass("is_active");var e=jQuery("#exclude_cdn_enable").prop("checked")?"1":"0";jQuery.post(ajaxurl,{action:"oc_exclude_cdn_mode",exclude_cdn_mode:e},function(e){jQuery("#oc_exclude_cdn_switch_spinner").removeClass("is_active"),"success"===e.status?(oc_toggle_excludeCDNSection(),jQuery("#oc_exclude_cdn_switch_spinner").addClass("success"),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN"})):(jQuery("#oc_um_overlay").show(),jQuery("#exclude_cdn_enable").prop("checked",!1))})}function oc_update_cdn_data(){jQuery(".oc_cdn_data_save_spinner").removeClass("success").addClass("is_active"),jQuery.post(ajaxurl,{action:"oc_update_cdn_data",exclude_cdn_data:jQuery("#exclude_cdn_data").val()||"",dev_duration:jQuery("#dev_mode_duration").val()||"48"},function(e){jQuery(".oc_cdn_data_save_spinner").removeClass("is_active"),"success"===e.status&&(jQuery(".oc_cdn_data_save_spinner").addClass("success"),jQuery("#cdn_settings .oc-ttl-error-msg").hide(),jQuery("#cdn_settings button.oc_cdn_data_save").attr("disabled",!0))})}function ocSetDevMode(){jQuery("#oc_dev_mode_switch_spinner").removeClass("success").addClass("is_active");var c=jQuery("#dev_mode_enable").prop("checked")?"1":"0",e=jQuery("#dev_mode_duration").val()||"48";jQuery.post(ajaxurl,{action:"oc_set_dev_mode",dev_mode:c,dev_duration:e},function(e){jQuery("#oc_dev_mode_switch_spinner").removeClass("is_active"),"success"===e.status?(oc_toggle_devModeSection(),jQuery("#oc_dev_mode_switch_spinner").addClass("success"),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"})):(jQuery("#oc_um_overlay").show(),jQuery("#dev_mode_enable").prop("checked",!1))})}function ocSetCdnState(){jQuery("#oc_cdn_switch_spinner").removeClass("success").addClass("is_active");var c=jQuery("#cdn_enable").prop("checked")?"1":"0";jQuery.post(ajaxurl,{action:"oc_set_cdn_state",cdn_state:c},function(e){jQuery("#oc_cdn_switch_spinner").removeClass("is_active"),"success"===e.status?(jQuery("#oc_cdn_switch_spinner").addClass("success"),oc_change_cdn_icon(),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"})):(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"}),jQuery("#cdn_enable").prop("checked",!1))})}function oc_change_cdn_icon(){jQuery("#cdn_enable").prop("checked")?(jQuery("#oc-cdn-icon-active").show(),jQuery("#oc-cdn-icon").hide(),jQuery(".oc-cdn-feature-box").show()):(jQuery("#oc-cdn-icon").show(),jQuery("#oc-cdn-icon-active").hide(),jQuery(".oc-cdn-feature-box").hide()),jQuery(".oc-cdn-feature-box .oc_cb_spinner").removeClass("success")}function oc_activate_wp_rocket(){jQuery(".oc_activate_wp_rocket_spinner").removeClass("success").addClass("is_active"),jQuery.post(ajaxurl,{action:"oc_activate_wp_rocket"},function(e){jQuery(".oc_activate_wp_rocket_spinner").removeClass("is_active"),!0===e.status?(jQuery(".oc_activate_wp_rocket_spinner").addClass("success"),window.location.href="options-general.php?page=wprocket"):console.log("Error: Could not activate plugin")})}function oc_show_more_less(){"none"===jQuery(".oc-hidden-content").css("display")?(jQuery(".oc-show-hide a").text("Show less"),jQuery(".oc-hidden-content").show()):(jQuery(".oc-show-hide a").text("Show more"),jQuery(".oc-hidden-content").hide())}jQuery(document).ready(function(){jQuery(".oc-non-premium #dev_mode_duration").prop("disabled",!0),jQuery(".oc-non-premium #oc_dev_duration_save").prop("disabled",!0),jQuery(".oc-non-premium #exclude_cdn_data").prop("disabled",!0),jQuery(".oc-non-premium .oc_cdn_data_save").prop("disabled",!0),oc_cdn_save_state_change(),jQuery("#pc_enable").change(function(){ocSetVCState()}),jQuery(".oc_ttl_save").click(function(){oc_validate_ttl()&&oc_update_ttl()}),jQuery(".oc_cdn_data_save").click(function(){oc_validate_cdn_data()&&oc_update_cdn_data()}),jQuery("#pc_enable_settings .oc_vcache_ttl").keypress(function(e){jQuery(this).removeClass("oc_error"),jQuery("#pc_enable_settings .oc-ttl-error-msg").hide()}),jQuery("#dev_mode_enable_settings #dev_mode_duration").keypress(function(e){jQuery(this).removeClass("oc_error"),jQuery("#dev_mode_enable_settings .oc-ttl-error-msg").hide()}),jQuery("#exclude_cdn_enable_settings #exclude_cdn_data").keypress(function(e){jQuery(this).removeClass("oc_error"),jQuery("#exclude_cdn_enable_settings .oc-ttl-error-msg").hide()}),jQuery(".oc-activate-wp-rocket-btn").click(function(){oc_activate_wp_rocket()}),jQuery("#cdn_enable").change(function(){ocSetCdnState()}),jQuery("#dev_mode_enable").change(function(){jQuery("#dev_mode_duration").removeClass("oc_error"),ocSetDevMode()}),jQuery("#exclude_cdn_enable").change(function(){jQuery("#exclude_cdn_data").removeClass("oc_error"),ocExcludeCDNState()}),jQuery("#pc_enable_settings form button.oc_ttl_save").attr("disabled",!0);let e=jQuery("#pc_enable_settings form"),c=(e.each(function(){jQuery(this).data("serialized",jQuery(this).serialize())}).on("change keyup paste",function(){jQuery(this).find("button.oc_ttl_save").attr("disabled",jQuery(this).serialize()==jQuery(this).data("serialized"))}),jQuery("#cdn_settings button.oc_cdn_data_save").attr("disabled",!0),jQuery("#cdn_settings form"));c.each(function(){jQuery(this).data("cdnSerialized",jQuery(this).serialize())}).on("change keyup paste",function(){jQuery(this).find("button.oc_cdn_data_save").attr("disabled",jQuery(this).serialize()==jQuery(this).data("cdnSerialized"))})});